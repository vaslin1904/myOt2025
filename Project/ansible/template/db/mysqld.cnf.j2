[mysqld]
# Основные параметры
#datadir = /var/lib/mysql
#socket = /var/run/mysqld/mysqld.sock
#pid-file = /var/run/mysqld/mysqld.pid
#log-error = /var/log/mysql/error.log

#user            = mysql
#port            = 3306
#mysqlx          = OFF
skip-networking = Off
bind-address    = 0.0.0.0
skip-name-resolve

{% if ansible_hostname == 'db-master' %}
server-id       = 1
{% elif ansible_hostname == 'db-slave' %}
server-id       = 2
read_only       = ON
{% endif %}

# Бинарные логи
log-bin         = /var/lib/mysql/mysql-bin
binlog-format   = ROW


# Производительность
innodb_buffer_pool_size = 128M
max_connections = 151

# Безопасность
#sql_mode = STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
